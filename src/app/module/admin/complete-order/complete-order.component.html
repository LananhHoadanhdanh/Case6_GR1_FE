<div class="container-fluid py-5">
  <div class="container py-5">
    <div class="row">
      <div class="col-lg-6">
        <h1 class="section-title position-relative mb-5">All of completed orders</h1>
      </div>
      <div class="col-lg-6 mb-5 mb-lg-0 pb-5 pb-lg-0"></div>
    </div>
    <div class="row title">
      <div class="col-2 order-title">Renter</div>
      <div class="col-2 order-title">Provider</div>
      <div class="col-2 order-title">Start</div>
      <div class="col-2 order-title">Finish</div>
      <div class="col-1 order-title">Time</div>
      <div class="col-1 order-title">Price</div>
      <div class="col-2 order-title">Status</div>
      <div class="col-1"></div>
    </div>
    <div class="row mt-3" *ngFor="let order of orders">
      <div class="col-2">{{order?.renter?.fullName}}</div>
      <div class="col-2">{{order?.provider?.fullName}}</div>
      <div class="col-2">{{order?.startTime | date : 'MM/dd/yy, h:mm a'}}</div>
      <div class="col-2">{{order?.endTime | date : 'MM/dd/yy, h:mm a'}}</div>
      <div class="col-1">{{order?.timeRent}}h</div>
      <div class="col-1">{{(order?.provider?.price) * (order?.timeRent) | number : '0.0-0'}}</div>
      <div class="col-1">{{order?.status?.name}}</div>
      <div class="col-1 text-center">
        <a (click)="deleteOrder(order?.id)" class="ml-3 mr-1"><i class="fas fa-trash-alt"></i></a>
        <a class="ml-1" data-toggle="modal" [attr.data-target]="'#viewModal'+ order?.id"><i
          class="fas fa-eye ml-1"></i></a>
        <!-- Modal -->
        <div class="modal fade" [id]="'viewModal'+ order?.id" tabindex="-1" aria-labelledby="viewModalLabel"
             aria-hidden="true">
          <div class="modal-dialog modal-xl">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="viewModalLabel">Order number: {{order?.id}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="row title">
                  <div class="col-2 order-title">Renter</div>
                  <div class="col-2 order-title">Provider</div>
                  <div class="col-2 order-title">Start</div>
                  <div class="col-2 order-title">Finish</div>
                  <div class="col-1 order-title">Time</div>
                  <div class="col-1 order-title">Price</div>
                  <div class="col-2 order-title">Status</div>
                </div>
                <div class="row mt-3">
                  <div class="col-2">{{order?.renter?.fullName}}</div>
                  <div class="col-2">{{order?.provider?.fullName}}</div>
                  <div class="col-2">{{order?.startTime | date : 'MM/dd/yy, h:mm a'}}</div>
                  <div class="col-2">{{order?.endTime | date : 'MM/dd/yy, h:mm a'}}</div>
                  <div class="col-1">{{order?.timeRent}}h</div>
                  <div class="col-1">{{(order?.provider?.price) * (order?.timeRent) | number : '0.0-0'}}</div>
                  <div class="col-2">{{order?.status?.name}}</div>
                </div>
              </div>
              <div class="modal-header">
                <h5 class="modal-title" id="viewModalLabel1">Provider's complains:</h5>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-2 order-title text-left">Time</div>
                  <div class="col-10 order-title text-left">Content</div>
                </div>
                <div class="row mt-3" *ngFor="let report of order?.reports">
                  <div class="col-2 text-left">{{report.date | date : 'MM/dd/yy, h:mm a'}}</div>
                  <div class="col-10 text-left">{{report.content}}</div>
                </div>
                <hr>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
